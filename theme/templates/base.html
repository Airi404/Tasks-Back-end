<!DOCTYPE html>
{% load static tailwind_tags %}
<html lang="es" class="dark"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %} SuperSocial {% endblock title %}</title>
    
    {% tailwind_css %}

    <style>
        /* SEGURO MODO OSCURO: Esto fuerza el color aunque Tailwind no compile */
        .dark body { background-color: #111827 !important; color: #f3f4f6 !important; }
        .dark header { background-color: #1f2937 !important; border-bottom: 1px solid #374151 !important; }
        
        /* Estilo para que se vea bien el modo claro si quitas la clase 'dark' arriba */
        body { transition: background-color 0.3s ease; font-family: ui-sans-serif, system-ui, sans-serif; }
    </style>
</head>

<body class="bg-gray-100 dark:bg-gray-900 min-h-screen">
    <header class="p-4 shadow-lg sticky top-0 z-50 flex justify-between items-center bg-white">
        <div class="flex items-center space-x-2">
            <img src="{% static 'img/favicon-16x16.png' %}" class="w-8" alt="Logo"/>
            <h1 class="text-xl font-black tracking-tighter text-blue-600 dark:text-blue-400">SuperSocial</h1>
        </div>

        <nav class="hidden md:flex space-x-6 mx-auto font-medium">
            <a href="{% url 'home' %}" class="hover:text-blue-500 transition-colors">Home</a>
            <a href="{% url 'Super_Social:app_page' %}" class="hover:text-blue-500 transition-colors">App Page</a>
            {% if user.is_authenticated %}
                <a href="{% url 'Super_Social:post_new' %}" class="text-green-500">¡Productos!</a>
            {% endif %}
        </nav>

        <div class="flex items-center space-x-4">
            {% if user.is_authenticated %}
                <span class="text-sm hidden sm:block">Hola, <b>{{ user.username }}</b></span>
                <form action="{% url 'users:logout' %}" method="post" class="m-0">
                    {% csrf_token %}
                    <button type="submit" class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg text-sm transition-all">Salir</button>
                </form>
            {% else %}
                <a href="{% url 'users:login' %}" class="text-sm font-bold">Login</a>
                <a href="{% url 'users:register' %}" class="bg-blue-500 hover:!bg-blue-600 dark:hover:text-blue-400 text-white px-3 py-1 rounded-lg text-sm font-medium transition-all">Regístrate</a>
            {% endif %}
        </div>
    </header>

    <main class="max-w-4xl mx-auto p-4 sm:p-6">
        {% block content %}
            {% endblock %}
    </main>
</body>
</html>